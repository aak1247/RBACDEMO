<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta content="IE=edge" http-equiv="X-UA-Compatible"/>
    <meta content="" name="description"/>
    <meta content="" name="keywords"/>
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport"/>
    <link rel="stylesheet" href="./css/bootstrap.min.css" type="text/css">
    <link rel="stylesheet" href="./css/bootstrap-switch.min.css" type="text/css">
    <!--<link rel="stylesheet" href="http://twitter.github.com/bootstrap/assets/js/google-code-prettify/prettify.css">-->
    <script src="./js/jquery.min.js"></script>
    <script src="./js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="./css/bootstrap.addtabs.css" type="text/css" media="screen" />
    <script src="./js/bootstrap.addtabs.min.js" type="application/javascript"></script>
    <script src="./js/bootstrap-switch.min.js" type="application/javascript"></script>
    <script type="text/javascript">
        $(function () {
            $('#closeAll').click(function () {
                console.log('1');
                $.addtabs.closeAll('#tabs1');
            })
        })
    </script>

    <title>greeting</title>
</head>
<body>
<div class="container">
    <div class="page-header">


    </div>
    <div class="row">
        <div class="col-sm-9">
            <h4>
                RBAC
            </h4>
            <hr>
            <div class="panel panel-default">
                <div class="switch" data-on="info" data-off="success">
                    <h5 style="float: left;margin-left: 10px;margin-right: 10px">
                    是否启用管理员角色
                    </h5>
                    <input type="checkbox" name="my-checkbox" checked style="float: left;margin-top: 4px" />
                </div>
                <div class="panel-body">
                    <div class="row">
                        <div class="col-sm-2">
                            <ul class="list-group">
                                <a class="list-group-item" data-addtab="mail" data-url="example/ajax/mailbox.txt">
                                    mailbox
                                </a>
                                <a class="list-group-item" data-addtab="mail1" data-ajax="true" data-url="example/ajax/mailbox.txt">
                                    Use Ajax
                                </a>
                                <a class="list-group-item" data-addtab="message" data-content="Customize the content" data-url="example/ajax/mailbox.txt">
                                    <i class="glyphicon glyphicon-bullhorn">
                                    </i>
                                    指定内容
                                </a>
                                <a class="list-group-item" data-addtab="setting" data-title="Customize the title" data-url="example/ajax/mailbox.txt">
                                    <i class="glyphicon glyphicon-cog">
                                    </i>
                                    指定标题
                                </a>
                                <a class="list-group-item" data-addtab="userMenu1" data-url="example/ajax/mailbox.txt">
                                    用户菜单1
                                </a>
                                <a class="list-group-item" data-addtab="userMenu2" data-target="#tabs2" data-url="example/ajax/button.html">
                                    target2
                                </a>
                                <a class="list-group-item" data-addtab="sina" data-url="http://sina.com.cn">
                                    新浪
                                </a>
                                <a class="list-group-item" data-addtab="baidu" data-url="http://baidu.com">
                                    百度
                                </a>
                                <a class="list-group-item" id="closeAll">
                                    关闭所有
                                </a>
                            </ul>
                        </div>
                        <div class="col-sm-10">
                            <div>
                                <!-- Nav tabs -->
                                <ul class="nav nav-tabs" id="tabs1" role="tablist">
                                    <li class="active" role="presentation">
                                        <a aria-controls="home" data-toggle="tab" href="#home" role="tab">
                                            Home
                                        </a>
                                    </li>
                                </ul>
                                <!-- Tab panes -->
                                <div class="tab-content">
                                    <div class="tab-pane active" id="home" role="tabpanel">
                                        User homepage
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    $("[name='my-checkbox']").bootstrapSwitch();
    $(document).ready(function () {
    $.get("http://localhost:8080/rest/user/hasRole",{"role":"admin"},function (data,status) {
        alert("???");
        alert(data+"  "+status);
        if(status!=200){
            alert("not ok");
            return;
        }
        if(data==false){
            alert("fff");
            $("[name='my-checkbox']").disabled=true;
        }else {
            alert("ccc");
            $("[name='my-checkbox']").disabled=false;
        }
    });
    });
</script>
</body>
</html>